<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title>.emacs_new</title>
  <link rel="stylesheet" href="http://jashkenas.github.com/docco/resources/docco.css">
</head>
<body>
<div id='container'>
  <div id="background"></div>
  <table cellspacing=0 cellpadding=0>
  <thead>
    <tr>
      <th class=docs><h1>.emacs_new</h1></th>
      <th class=code></th>
    </tr>
  </thead>
  <tbody>
    <tr id='section-Zane_Ashby&amp;rsquo;s_.emacs'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-Zane_Ashby&amp;rsquo;s_.emacs">&#182;</a>
        </div>
        <h2>Zane Ashby&rsquo;s .emacs</h2>

<p>It&rsquo;s clear that I need some more organisation in this file.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre></pre></div>
      </td>
    </tr>
    <tr id='section-2'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-2">&#182;</a>
        </div>
        <p>Add <code>emacs.d</code> to the load path as well as a newer <code>org-mode</code> version.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">add-to-list</span> <span class="ss">&#39;load-path</span> <span class="s">&quot;~/.emacs.d&quot;</span><span class="p">)</span>
<span class="p">(</span><span class="nf">add-to-list</span> <span class="ss">&#39;load-path</span> <span class="s">&quot;~/.emacs.d/org-7.4/lisp&quot;</span><span class="p">)</span></pre></div>
      </td>
    </tr>
    <tr id='section-3'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-3">&#182;</a>
        </div>
        <p>Turn off window extras.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">tool-bar-mode</span> <span class="mi">-1</span><span class="p">)</span>
<span class="p">(</span><span class="nf">scroll-bar-mode</span> <span class="mi">1</span><span class="p">)</span></pre></div>
      </td>
    </tr>
    <tr id='section-4'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-4">&#182;</a>
        </div>
        <p>Sometimes I get in the mood to use a colortheme, so often used
ones are defined here.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="c1">;(load-file &quot;~/.emacs_colortheme&quot;)</span>

<span class="c1">;(require &#39;color-theme)</span>
<span class="c1">;(color-theme-initialize)</span>
<span class="c1">;(color-theme-hober)</span>
<span class="c1">;(color-theme-gtk-ide)</span>
<span class="c1">;(color-theme-ld-dark)</span></pre></div>
      </td>
    </tr>
    <tr id='section-Misc_settings_to_fix_annoyances.'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-Misc_settings_to_fix_annoyances.">&#182;</a>
        </div>
        <h2>Misc settings to fix annoyances.</h2>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">setq</span> <span class="nv">inhibit-startup-screen</span> <span class="nv">t</span><span class="p">)</span>
<span class="p">(</span><span class="nf">setq</span> <span class="nv">mouse-autoselect-window</span> <span class="nv">t</span><span class="p">)</span>
<span class="p">(</span><span class="nf">set-mouse-color</span> <span class="s">&quot;white&quot;</span><span class="p">)</span>

<span class="p">(</span><span class="nf">fset</span> <span class="ss">&#39;yes-or-no-p</span> <span class="ss">&#39;y-or-n-p</span><span class="p">)</span></pre></div>
      </td>
    </tr>
    <tr id='section-6'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-6">&#182;</a>
        </div>
        <p>Change the frame title and add urgent <code>org-mode</code> stuff into it.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">setq</span> <span class="nv">urgent-org-mode-line</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
<span class="p">(</span><span class="nf">setq</span> <span class="nv">frame-title-format</span> <span class="o">&#39;</span><span class="p">((</span><span class="nf">buffer-name</span> <span class="s">&quot;%f&quot;</span> <span class="p">(</span><span class="s">&quot;%b&quot;</span><span class="p">))</span> <span class="s">&quot; | &quot;</span> <span class="nv">mode-name</span> <span class="s">&quot; | Emacs&quot;</span> <span class="nv">urgent-org-mode-line</span><span class="p">))</span>

<span class="p">(</span><span class="nf">setq-default</span> <span class="nv">cursor-in-non-selected-windows</span> <span class="nv">nil</span><span class="p">)</span>
<span class="p">(</span><span class="nf">setq</span> <span class="nv">x-stretch-cursor</span> <span class="nv">t</span><span class="p">)</span>
<span class="p">(</span><span class="nf">setq</span> <span class="nv">x-select-enable-clipboard</span> <span class="nv">t</span><span class="p">)</span>
<span class="p">(</span><span class="nf">setq</span> <span class="nv">default-fill-column</span> <span class="mi">79</span><span class="p">)</span>
<span class="p">(</span><span class="nf">delete-selection-mode</span> <span class="nv">t</span><span class="p">)</span>
<span class="p">(</span><span class="nf">setq-default</span> <span class="nv">truncate-lines</span> <span class="nv">t</span><span class="p">)</span>

<span class="p">(</span><span class="nf">setq</span> <span class="nv">require-final-newline</span> <span class="nv">t</span><span class="p">)</span>
<span class="p">(</span><span class="nf">setq</span> <span class="nv">auto-save-default</span> <span class="nv">nil</span><span class="p">)</span> <span class="c1">; Get rid of ugly #backup# files</span>
<span class="p">(</span><span class="nf">setq</span> <span class="nv">backup-directory-alist</span> <span class="o">&#39;</span><span class="p">((</span><span class="s">&quot;&quot;</span> <span class="o">.</span> <span class="s">&quot;~/.emacs.d/emacs-backup&quot;</span><span class="p">)))</span>

<span class="p">(</span><span class="nf">setq</span> <span class="nv">vc-follow-symlinks</span> <span class="nv">t</span><span class="p">)</span>

<span class="p">(</span><span class="nf">setq-default</span> <span class="nv">c-basic-offset</span> <span class="mi">4</span><span class="p">)</span>
<span class="p">(</span><span class="nf">setq-default</span> <span class="nv">tab-width</span> <span class="mi">4</span><span class="p">)</span>
<span class="p">(</span><span class="nf">setq-default</span> <span class="nv">indent-tabs-mode</span> <span class="nv">nil</span><span class="p">)</span>

<span class="p">(</span><span class="nf">setq</span> <span class="nv">read-file-name-completion-ignore-case</span> <span class="nv">t</span><span class="p">)</span>

<span class="c1">;(desktop-save-mode t) ; Save buffers to desktop file</span>
<span class="p">(</span><span class="nf">setq</span> <span class="nv">display-time-string-forms</span>
      <span class="o">&#39;</span><span class="p">((</span><span class="nf">concat</span> <span class="s">&quot; &quot;</span> <span class="mi">12</span><span class="nv">-hours</span> <span class="s">&quot;:&quot;</span> <span class="nv">minutes</span> <span class="s">&quot; &quot;</span><span class="p">)))</span>
<span class="p">(</span><span class="nf">display-time-mode</span> <span class="nv">t</span><span class="p">)</span> <span class="c1">; Show time in modeline</span>

<span class="p">(</span><span class="nf">show-paren-mode</span> <span class="nv">t</span><span class="p">)</span> <span class="c1">; Show matching parens</span>

<span class="p">(</span><span class="nf">setq</span> <span class="nv">pop-up-windows</span> <span class="nv">nil</span><span class="p">)</span>

<span class="p">(</span><span class="nf">put</span> <span class="ss">&#39;narrow-to-region</span> <span class="ss">&#39;disabled</span> <span class="nv">nil</span><span class="p">)</span>

<span class="p">(</span><span class="nf">setq</span> <span class="nv">scheme-program-name</span> <span class="s">&quot;csi -:c&quot;</span><span class="p">)</span>

<span class="p">(</span><span class="nf">setq</span> <span class="nv">compilation-auto-jump-to-first-error</span> <span class="nv">t</span><span class="p">)</span> <span class="c1">;; This still seems to jump to warnings.. will fix later</span>
<span class="p">(</span><span class="nf">setq</span> <span class="nv">compilation-skip-threshold</span> <span class="mi">2</span><span class="p">)</span></pre></div>
      </td>
    </tr>
    <tr id='section-Some_Global_keybindings.'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-Some_Global_keybindings.">&#182;</a>
        </div>
        <h2>Some Global keybindings.</h2>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">global-set-key</span> <span class="p">(</span><span class="nf">kbd</span> <span class="s">&quot;RET&quot;</span><span class="p">)</span> <span class="ss">&#39;newline-and-indent</span><span class="p">)</span>
<span class="p">(</span><span class="nf">global-set-key</span> <span class="p">(</span><span class="nf">kbd</span> <span class="s">&quot;M-\\&quot;</span><span class="p">)</span> <span class="ss">&#39;align-regexp</span><span class="p">)</span>
<span class="p">(</span><span class="nf">global-set-key</span> <span class="p">(</span><span class="nf">kbd</span> <span class="s">&quot;M-/&quot;</span><span class="p">)</span> <span class="ss">&#39;hippie-expand</span><span class="p">)</span>

<span class="p">(</span><span class="nf">setq</span> <span class="nv">compilation-read-command</span> <span class="nv">nil</span><span class="p">)</span>
<span class="p">(</span><span class="nf">global-set-key</span> <span class="p">(</span><span class="nf">kbd</span> <span class="s">&quot;&lt;f5&gt;&quot;</span><span class="p">)</span> <span class="ss">&#39;smart-compile</span><span class="p">)</span></pre></div>
      </td>
    </tr>
    <tr id='section-8'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-8">&#182;</a>
        </div>
        <p>Useful function for evaluating some elisp and placing the output
in place.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">defun</span> <span class="nv">eval-and-replace</span> <span class="p">()</span>
  <span class="s">&quot;Replace the preceding sexp with its value.&quot;</span>
  <span class="p">(</span><span class="nf">interactive</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">backward-kill-sexp</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">princ</span> <span class="p">(</span><span class="nb">eval </span><span class="p">(</span><span class="nb">read </span><span class="p">(</span><span class="nf">current-kill</span> <span class="mi">0</span><span class="p">)))</span>
         <span class="p">(</span><span class="nf">current-buffer</span><span class="p">)))</span>

<span class="p">(</span><span class="nf">global-set-key</span> <span class="p">(</span><span class="nf">kbd</span> <span class="s">&quot;C-c C-e&quot;</span><span class="p">)</span> <span class="ss">&#39;eval-and-replace</span><span class="p">)</span></pre></div>
      </td>
    </tr>
    <tr id='section-9'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-9">&#182;</a>
        </div>
        <p>Function used when editing HTML to surround some selected text
with a tag.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">defun</span> <span class="nv">surround-region</span> <span class="p">(</span><span class="nf">tag-name</span> <span class="nv">beg</span> <span class="nv">end</span><span class="p">)</span>
  <span class="s">&quot;Surround a region with a tag&quot;</span>
  <span class="p">(</span><span class="nf">interactive</span> <span class="s">&quot;sTag name: \nr&quot;</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">save-excursion</span>
    <span class="p">(</span><span class="nf">goto-char</span> <span class="nv">beg</span><span class="p">)</span>
    <span class="p">(</span><span class="nf">insert</span> <span class="p">(</span><span class="nf">concat</span> <span class="s">&quot;&lt;&quot;</span> <span class="nv">tag-name</span> <span class="s">&quot;&gt;&quot;</span><span class="p">))</span>
    <span class="p">(</span><span class="nf">goto-char</span> <span class="p">(</span><span class="nb">+ </span><span class="nv">end</span> <span class="mi">2</span> <span class="p">(</span><span class="nb">length </span><span class="nv">tag-name</span><span class="p">)))</span>
    <span class="p">(</span><span class="nf">insert</span> <span class="p">(</span><span class="nf">concat</span> <span class="s">&quot;&lt;/&quot;</span> <span class="nv">tag-name</span> <span class="s">&quot;&gt;&quot;</span><span class="p">))))</span></pre></div>
      </td>
    </tr>
    <tr id='section-10'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-10">&#182;</a>
        </div>
        <p>Function to insert some XML generated by <code>xmlgen</code>.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">defun</span> <span class="nv">insert-xml</span> <span class="p">(</span><span class="nf">form</span><span class="p">)</span>
  <span class="s">&quot;Insert XML generated by xmlgen&quot;</span>
  <span class="p">(</span><span class="nf">interactive</span> <span class="s">&quot;sxmlgen: &quot;</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">princ</span>
   <span class="p">(</span><span class="nf">xmlgen</span> <span class="p">(</span><span class="nb">read </span><span class="nv">form</span><span class="p">))</span>
   <span class="p">(</span><span class="nf">current-buffer</span><span class="p">)))</span></pre></div>
      </td>
    </tr>
    <tr id='section-11'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-11">&#182;</a>
        </div>
        <p>Function to parse a selection through <code>markdown</code> and replace it
with HTML.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">defun</span> <span class="nv">insert-markdown</span> <span class="p">(</span><span class="nf">&amp;optional</span> <span class="nv">b</span> <span class="nv">e</span><span class="p">)</span>
  <span class="s">&quot;Run markdown on region and replace&quot;</span>
  <span class="p">(</span><span class="nf">interactive</span> <span class="s">&quot;r&quot;</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">shell-command-on-region</span> <span class="nv">b</span> <span class="nv">e</span> <span class="nv">markdown-command</span> <span class="p">(</span><span class="nf">current-buffer</span><span class="p">)</span> <span class="nv">t</span><span class="p">))</span></pre></div>
      </td>
    </tr>
    <tr id='section-12'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-12">&#182;</a>
        </div>
        <p>Function to run a selection through <code>tidy</code> to format it nicely.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">defun</span> <span class="nv">format-xml</span> <span class="p">(</span><span class="nf">&amp;optional</span> <span class="nv">b</span> <span class="nv">e</span><span class="p">)</span>
  <span class="s">&quot;Run tidy on region and replace&quot;</span>
  <span class="p">(</span><span class="nf">interactive</span> <span class="s">&quot;r&quot;</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">shell-command-on-region</span> <span class="nv">b</span> <span class="nv">e</span> <span class="s">&quot;tidy -xml -quiet -indent&quot;</span> <span class="p">(</span><span class="nf">current-buffer</span><span class="p">)</span> <span class="nv">t</span><span class="p">))</span></pre></div>
      </td>
    </tr>
    <tr id='section-13'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-13">&#182;</a>
        </div>
        <p>A pair of functions to enable inserting an XDG template file
into the current position in a buffer. eg. Quickly insert an
HTML5 template.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">defun</span> <span class="nv">xdg-get-template-dir</span> <span class="p">()</span>
  <span class="s">&quot;Return the XDG Templates Directory&quot;</span>
  <span class="p">(</span><span class="nb">substring </span><span class="p">(</span><span class="nf">shell-command-to-string</span> <span class="s">&quot;xdg-user-dir TEMPLATES&quot;</span><span class="p">)</span> <span class="mi">0</span> <span class="mi">-1</span><span class="p">))</span>

<span class="p">(</span><span class="nf">defun</span> <span class="nv">insert-xdg-template</span> <span class="p">(</span><span class="nf">&amp;optional</span> <span class="nv">template</span><span class="p">)</span>
  <span class="s">&quot;Prompt for an XDG template to insert at point&quot;</span>
  <span class="p">(</span><span class="nf">interactive</span>
   <span class="p">(</span><span class="nb">list </span><span class="p">(</span><span class="nf">completing-read</span> <span class="s">&quot;XDG Template: &quot;</span>
                          <span class="p">(</span><span class="nf">directory-files</span>
                           <span class="p">(</span><span class="nf">xdg-get-template-dir</span><span class="p">)</span>
                           <span class="nv">nil</span> <span class="nv">directory-files-no-dot-files-regexp</span><span class="p">))))</span>
  <span class="p">(</span><span class="nf">insert-file</span> <span class="p">(</span><span class="nf">concat</span> <span class="p">(</span><span class="nf">xdg-get-template-dir</span><span class="p">)</span> <span class="s">&quot;/&quot;</span> <span class="nv">template</span><span class="p">)))</span></pre></div>
      </td>
    </tr>
    <tr id='section-14'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-14">&#182;</a>
        </div>
        <p>Allow toggling of Fullscreen!</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">defun</span> <span class="nv">toggle-fullscreen</span> <span class="p">(</span><span class="nf">&amp;optional</span> <span class="nv">f</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">interactive</span><span class="p">)</span>
  <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nf">current-value</span> <span class="p">(</span><span class="nf">frame-parameter</span> <span class="nv">nil</span> <span class="ss">&#39;fullscreen</span><span class="p">)))</span>
    <span class="p">(</span><span class="nf">set-frame-parameter</span> <span class="nv">nil</span> <span class="ss">&#39;fullscreen</span>
                         <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nf">equal</span> <span class="ss">&#39;fullboth</span> <span class="nv">current-value</span><span class="p">)</span>
                             <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nf">boundp</span> <span class="ss">&#39;old-fullscreen</span><span class="p">)</span> <span class="nv">old-fullscreen</span> <span class="nv">nil</span><span class="p">)</span>
                           <span class="p">(</span><span class="nf">progn</span> <span class="p">(</span><span class="nf">setq</span> <span class="nv">old-fullscreen</span> <span class="nv">current-value</span><span class="p">)</span>
                                  <span class="ss">&#39;fullboth</span><span class="p">)))))</span>

<span class="p">(</span><span class="nf">global-set-key</span> <span class="err">[</span><span class="nv">f11</span><span class="err">]</span> <span class="ss">&#39;toggle-fullscreen</span><span class="p">)</span></pre></div>
      </td>
    </tr>
    <tr id='section-15'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-15">&#182;</a>
        </div>
        <p>Increase/descrease text size with a simple <code>ctrl-+/-</code>.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">global-set-key</span> <span class="p">(</span><span class="nf">kbd</span> <span class="s">&quot;C-=&quot;</span><span class="p">)</span> <span class="ss">&#39;text-scale-increase</span><span class="p">)</span>
<span class="p">(</span><span class="nf">global-set-key</span> <span class="p">(</span><span class="nf">kbd</span> <span class="s">&quot;C--&quot;</span><span class="p">)</span> <span class="ss">&#39;text-scale-decrease</span><span class="p">)</span>

<span class="p">(</span><span class="nf">setq</span> <span class="nv">mode-line-in-non-selected-windows</span> <span class="nv">nil</span><span class="p">)</span></pre></div>
      </td>
    </tr>
    <tr id='section-16'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-16">&#182;</a>
        </div>
        <p>Evaluate after loading <code>org-mode</code>.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">eval-after-load</span> <span class="s">&quot;org-mode&quot;</span>
  <span class="o">&#39;</span><span class="p">(</span><span class="nv">progn</span></pre></div>
      </td>
    </tr>
    <tr id='section-17'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-17">&#182;</a>
        </div>
        <p>Add common global keybindings for <code>org-mode</code>.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>     <span class="p">(</span><span class="nf">global-set-key</span> <span class="p">(</span><span class="nf">kbd</span> <span class="s">&quot;C-c a&quot;</span><span class="p">)</span> <span class="ss">&#39;org-agenda</span><span class="p">)</span>
     <span class="p">(</span><span class="nf">global-set-key</span> <span class="p">(</span><span class="nf">kbd</span> <span class="s">&quot;C-c c&quot;</span><span class="p">)</span> <span class="ss">&#39;org-capture</span><span class="p">)</span></pre></div>
      </td>
    </tr>
    <tr id='section-18'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-18">&#182;</a>
        </div>
        <p>Setup some useful <code>org-mode</code> settings such as <code>agenda-files</code>.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>     <span class="p">(</span><span class="nf">setq</span> <span class="nv">org-agenda-files</span> <span class="o">&#39;</span><span class="p">(</span><span class="s">&quot;~/org/todo.org&quot;</span> <span class="s">&quot;~/org/day.org&quot;</span><span class="p">)</span>
           <span class="nv">org-confirm-shell-link-function</span> <span class="nv">nil</span>
           <span class="nv">org-confirm-elisp-link-function</span> <span class="nv">nil</span>
           <span class="nv">org-return-follows-link</span> <span class="nv">t</span>
           <span class="nv">org-startup-folded</span> <span class="ss">&#39;showall</span>
           <span class="nv">org-log-into-drawer</span> <span class="nv">t</span>
           <span class="nv">org-confirm-babel-evaluate</span> <span class="nv">nil</span><span class="p">)</span></pre></div>
      </td>
    </tr>
    <tr id='section-19'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-19">&#182;</a>
        </div>
        <p>Change the colors of the TODO faces.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>     
     <span class="p">(</span><span class="nf">setq</span> <span class="nv">org-todo-keyword-faces</span>
           <span class="o">&#39;</span><span class="p">(</span>
             <span class="p">(</span><span class="s">&quot;TODO&quot;</span> <span class="o">.</span> <span class="p">(</span><span class="nf">:foreground</span> <span class="s">&quot;#eebb22&quot;</span> <span class="nv">:weight</span> <span class="nv">bold</span><span class="p">))</span>
             <span class="p">(</span><span class="s">&quot;URGENT&quot;</span> <span class="o">.</span> <span class="p">(</span><span class="nf">:foreground</span> <span class="s">&quot;#ff2222&quot;</span> <span class="nv">:weight</span> <span class="nv">bold</span> <span class="nv">:underline</span> <span class="nv">t</span><span class="p">))</span>
             <span class="p">(</span><span class="s">&quot;BLOCKED&quot;</span> <span class="o">.</span> <span class="p">(</span><span class="nf">:foreground</span> <span class="s">&quot;#ff8888&quot;</span> <span class="nv">:weight</span> <span class="nv">bold</span> <span class="nv">:slant</span> <span class="nv">italic</span><span class="p">))</span>
             <span class="p">(</span><span class="s">&quot;LATER&quot;</span> <span class="o">.</span> <span class="p">(</span><span class="nf">:foreground</span> <span class="s">&quot;#88aaff&quot;</span> <span class="nv">:weight</span> <span class="nv">bold</span><span class="p">))</span>
             <span class="p">(</span><span class="s">&quot;DONE&quot;</span> <span class="o">.</span> <span class="p">(</span><span class="nf">:foreground</span> <span class="s">&quot;#66ee88&quot;</span> <span class="nv">:weight</span> <span class="nv">bold</span><span class="p">))</span>
             <span class="p">))</span></pre></div>
      </td>
    </tr>
    <tr id='section-20'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-20">&#182;</a>
        </div>
        <p>Set up <code>org-babel</code>. I only ever use <code>scheme</code> or <code>emacs-lisp</code>.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>     <span class="p">(</span><span class="nf">org-babel-do-load-languages</span>
      <span class="ss">&#39;org-babel-load-languages</span>
      <span class="o">&#39;</span><span class="p">((</span><span class="nf">scheme</span> <span class="o">.</span> <span class="nv">t</span><span class="p">)</span>
        <span class="p">(</span><span class="nf">sh</span> <span class="o">.</span> <span class="nv">t</span><span class="p">)</span>
        <span class="p">(</span><span class="nf">emacs-lisp</span> <span class="o">.</span> <span class="nv">t</span><span class="p">)))</span>

     <span class="p">(</span><span class="nf">setq</span> <span class="nv">org-babel-scheme-cmd</span> <span class="s">&quot;csi -quiet -:c&quot;</span><span class="p">)</span>

     <span class="p">(</span><span class="nf">appt-activate</span> <span class="mi">1</span><span class="p">)</span> <span class="c1">; Enable appointment notification</span></pre></div>
      </td>
    </tr>
    <tr id='section-21'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-21">&#182;</a>
        </div>
        <p>This is used for cleaning out an <code>org-mode</code> heading for display.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>     <span class="p">(</span><span class="nf">defun</span> <span class="nv">clean-org-heading</span> <span class="p">(</span><span class="nf">heading</span><span class="p">)</span>
       <span class="p">(</span><span class="nf">replace-regexp-in-string</span> <span class="s">&quot;\\[\\[.*\\]\\[\\\(.*\\\)\\]\\]&quot;</span> <span class="s">&quot;\\1&quot;</span> <span class="nv">heading</span><span class="p">))</span></pre></div>
      </td>
    </tr>
    <tr id='section-22'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-22">&#182;</a>
        </div>
        <p>Look for urgent stuff to add to the frame title ;)</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>     
     <span class="p">(</span><span class="nf">defun</span> <span class="nv">update-org</span> <span class="p">()</span>
       <span class="s">&quot;Update org-mode related stuff, appointments, modeline etc&quot;</span>
       <span class="p">(</span><span class="nf">set-face-attribute</span> <span class="ss">&#39;org-table</span> <span class="nv">nil</span> <span class="nv">:inherit</span> <span class="ss">&#39;fixed-pitch</span><span class="p">)</span> <span class="c1">; HACK</span>
       <span class="p">(</span><span class="nf">setq</span> <span class="nv">urgent-org-mode-line</span>
             <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nf">heading</span> <span class="p">(</span><span class="nf">mapconcat</span> <span class="ss">&#39;identity</span>
                                       <span class="p">(</span><span class="nf">org-map-entries</span>
                                        <span class="p">(</span><span class="k">lambda </span><span class="p">()</span>
                                          <span class="p">(</span><span class="nf">clean-org-heading</span> <span class="p">(</span><span class="nf">nth</span> <span class="mi">4</span> <span class="p">(</span><span class="nf">org-heading-components</span><span class="p">))))</span>
                                        <span class="s">&quot;PRIORITY={.}|TIMESTAMP&lt;=\&quot;&lt;+1w&gt;\&quot;|DEADLINE&lt;=\&quot;&lt;+1w&gt;\&quot;|SCHEDULED&lt;=\&quot;&lt;+1w&gt;\&quot;&quot;</span> <span class="ss">&#39;agenda</span><span class="p">)</span> <span class="s">&quot;, &quot;</span><span class="p">)))</span>
               <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">not </span><span class="p">(</span><span class="nf">string=</span> <span class="s">&quot;&quot;</span> <span class="nv">heading</span><span class="p">))</span>
                   <span class="p">(</span><span class="nf">concat</span> <span class="s">&quot; | Urgent Tasks: &quot;</span> <span class="nv">heading</span><span class="p">)</span>
                 <span class="s">&quot;&quot;</span><span class="p">)))</span>
       <span class="p">(</span><span class="nf">setq</span> <span class="nv">appt-time-msg-list</span> <span class="nv">nil</span><span class="p">)</span>
       <span class="p">(</span><span class="nf">org-agenda-to-appt</span><span class="p">)</span>
       <span class="nv">nil</span><span class="p">)</span></pre></div>
      </td>
    </tr>
    <tr id='section-23'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-23">&#182;</a>
        </div>
        <p>Run it every 5 minutes.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>     
     <span class="p">(</span><span class="nf">run-at-time</span> <span class="nv">nil</span> <span class="mi">300</span> <span class="ss">&#39;update-org</span><span class="p">)))</span></pre></div>
      </td>
    </tr>
    <tr id='section-24'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-24">&#182;</a>
        </div>
        <p>Stuff to be evaluated after <code>sawfish-mode</code> is loaded.
I&rsquo;m not using Sawfish at the moment but I&rsquo;m leaving this here
just in case I go back to it. This basically is just a set
of integrations into Emacs and <code>org-mode</code>.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">eval-after-load</span> <span class="s">&quot;sawfish&quot;</span>
  <span class="o">&#39;</span><span class="p">(</span><span class="nv">progn</span>
     <span class="p">(</span><span class="nf">defmacro</span> <span class="nv">sawfish</span> <span class="p">(</span><span class="nf">form</span><span class="p">)</span>
       <span class="o">`</span><span class="p">(</span><span class="nf">saw-client-eval</span> <span class="p">(</span><span class="nf">format</span> <span class="s">&quot;%S&quot;</span> <span class="o">,</span><span class="nv">form</span><span class="p">)))</span>

     <span class="p">(</span><span class="nf">defun</span> <span class="nv">my-goto-workspace</span> <span class="p">(</span><span class="nf">name</span><span class="p">)</span>
       <span class="p">(</span><span class="nf">sawfish</span> <span class="o">`</span><span class="p">(</span><span class="nf">goto-workspace</span> <span class="o">,</span><span class="nv">name</span><span class="p">)))</span>

     <span class="p">(</span><span class="nf">defun</span> <span class="nv">new-clocked-task</span> <span class="p">(</span><span class="nf">description</span> <span class="nv">tag</span><span class="p">)</span>
       <span class="s">&quot;Create a new clocked task&quot;</span>
       <span class="p">(</span><span class="nf">interactive</span> <span class="s">&quot;sDescription: \nsTag: &quot;</span><span class="p">)</span>
       <span class="p">(</span><span class="nf">insert</span> <span class="p">(</span><span class="nf">format</span> <span class="s">&quot;** TODO [[elisp:%S][%s]] :%s:&quot;</span>
                       <span class="o">`</span><span class="p">(</span><span class="nf">progn</span>
                          <span class="p">(</span><span class="nf">org-clock-in</span><span class="p">)</span>
                          <span class="p">(</span><span class="nf">my-goto-workspace</span> <span class="o">,</span><span class="nv">tag</span><span class="p">))</span> <span class="nv">description</span> <span class="nv">tag</span><span class="p">))</span>
       <span class="p">(</span><span class="nf">sawfish</span> <span class="o">`</span><span class="p">(</span><span class="nf">update-workspaces</span> <span class="ss">&#39;,</span><span class="p">(</span><span class="nf">mapcar</span> <span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nf">tag</span><span class="p">)</span>
                                                <span class="p">(</span><span class="nf">substring-no-properties</span> <span class="p">(</span><span class="nb">car </span><span class="nv">tag</span><span class="p">)))</span>
                                              <span class="p">(</span><span class="nf">org-global-tags-completion-table</span><span class="p">)))))))</span>

<span class="c1">;(org-add-link-type &quot;wm&quot; &#39;saw-client-eval)</span></pre></div>
      </td>
    </tr>
    <tr id='section-25'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-25">&#182;</a>
        </div>
        <p>Fits a window to the selected region, useful if you need to focus
on a section of text in a split window.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">defun</span> <span class="nv">fit-window-to-region</span> <span class="p">()</span>
  <span class="s">&quot;Fits the current window to the selected region&quot;</span>
  <span class="p">(</span><span class="nf">interactive</span><span class="p">)</span>
  <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="k">and </span><span class="nv">transient-mark-mode</span> <span class="nv">mark-active</span><span class="p">)</span>
      <span class="p">(</span><span class="nf">progn</span>
        <span class="p">(</span><span class="nf">narrow-to-region</span> <span class="p">(</span><span class="nf">region-beginning</span><span class="p">)</span> <span class="p">(</span><span class="nf">region-end</span><span class="p">))</span>
        <span class="p">(</span><span class="nf">run-at-time</span> <span class="mf">0.1</span> <span class="nv">nil</span> <span class="c1">; No idea why this doesn&#39;t work without the timer..</span>
                     <span class="p">(</span><span class="k">lambda </span><span class="p">()</span>
                       <span class="p">(</span><span class="nf">fit-window-to-buffer</span><span class="p">)</span>
                       <span class="p">(</span><span class="nf">widen</span><span class="p">))))</span>
    <span class="p">(</span><span class="nf">message</span> <span class="s">&quot;No region selected&quot;</span><span class="p">)))</span></pre></div>
      </td>
    </tr>
    <tr id='section-26'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-26">&#182;</a>
        </div>
        <p>From http://ruslanspivak.com/2007/08/18/htmlize-your-erlang-code-buffer/.
HTMLize (<em>syntax highlight it</em>) a region and place it in a buffer.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">setq</span> <span class="nv">htmlize-output-type</span> <span class="ss">&#39;inline-css</span><span class="p">)</span>
<span class="p">(</span><span class="nf">defun</span> <span class="nv">my-htmlize-region</span> <span class="p">(</span><span class="nf">beg</span> <span class="nv">end</span><span class="p">)</span>
  <span class="s">&quot;Htmlize region and put into &lt;pre&gt; tag style that is left in &lt;body&gt; tag</span>
<span class="s">plus add font-size: 8pt&quot;</span>
  <span class="p">(</span><span class="nf">interactive</span> <span class="s">&quot;r&quot;</span><span class="p">)</span>
  <span class="p">(</span><span class="k">let* </span><span class="p">((</span><span class="nf">buffer-faces</span> <span class="p">(</span><span class="nf">htmlize-faces-in-buffer</span><span class="p">))</span>
         <span class="p">(</span><span class="nf">face-map</span> <span class="p">(</span><span class="nf">htmlize-make-face-map</span> <span class="p">(</span><span class="nf">adjoin</span> <span class="ss">&#39;default</span> <span class="nv">buffer-faces</span><span class="p">)))</span>
         <span class="p">(</span><span class="nf">pre-tag</span> <span class="p">(</span><span class="nf">format</span>
                   <span class="s">&quot;&lt;pre style=\&quot;%s font-size: 8pt\&quot;&gt;&quot;</span>
                   <span class="p">(</span><span class="nf">mapconcat</span> <span class="o">#</span><span class="ss">&#39;identity</span> <span class="p">(</span><span class="nf">htmlize-css-specs</span>
                                          <span class="p">(</span><span class="nf">gethash</span> <span class="ss">&#39;default</span> <span class="nv">face-map</span><span class="p">))</span> <span class="s">&quot; &quot;</span><span class="p">)))</span>
         <span class="p">(</span><span class="nf">htmlized-reg</span> <span class="p">(</span><span class="nf">htmlize-region-for-paste</span> <span class="nv">beg</span> <span class="nv">end</span><span class="p">)))</span>
    <span class="p">(</span><span class="nf">switch-to-buffer-other-window</span> <span class="s">&quot;*htmlized output*&quot;</span><span class="p">)</span>
                                        <span class="c1">; clear buffer</span>
    <span class="p">(</span><span class="nf">kill-region</span> <span class="p">(</span><span class="nf">point-min</span><span class="p">)</span> <span class="p">(</span><span class="nf">point-max</span><span class="p">))</span>
                                        <span class="c1">; set mode to have syntax highlighting</span>
    <span class="p">(</span><span class="nf">nxml-mode</span><span class="p">)</span>
    <span class="p">(</span><span class="nf">save-excursion</span>
      <span class="p">(</span><span class="nf">insert</span> <span class="nv">htmlized-reg</span><span class="p">))</span>
    <span class="p">(</span><span class="nf">while</span> <span class="p">(</span><span class="nf">re-search-forward</span> <span class="s">&quot;&lt;pre&gt;&quot;</span> <span class="nv">nil</span> <span class="nv">t</span><span class="p">)</span>
      <span class="p">(</span><span class="nf">replace-match</span> <span class="nv">pre-tag</span> <span class="nv">nil</span> <span class="nv">nil</span><span class="p">))</span>
    <span class="p">(</span><span class="nf">goto-char</span> <span class="p">(</span><span class="nf">point-min</span><span class="p">))))</span></pre></div>
      </td>
    </tr>
    <tr id='section-Library_Loading'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-Library_Loading">&#182;</a>
        </div>
        <h2>Library Loading</h2>
      </td>
      <td class=code>
        <div class='highlight'><pre></pre></div>
      </td>
    </tr>
    <tr id='section-28'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-28">&#182;</a>
        </div>
        <p>Set up unique buffer names.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">eval-after-load</span> <span class="s">&quot;uniquify&quot;</span>
  <span class="o">&#39;</span><span class="p">(</span><span class="nv">setq</span> 
    <span class="nv">uniquify-buffer-name-style</span> <span class="ss">&#39;reverse</span>
    <span class="nv">uniquify-separator</span> <span class="s">&quot;:&quot;</span><span class="p">))</span></pre></div>
      </td>
    </tr>
    <tr id='section-29'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-29">&#182;</a>
        </div>
        <p>Set up the command for <code>scss-mode</code>, this one seems to change
on every machine I use..</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">eval-after-load</span> <span class="s">&quot;scss-mode&quot;</span>
  <span class="o">&#39;</span><span class="p">(</span><span class="nv">setq</span> <span class="nv">scss-sass-command</span> <span class="s">&quot;sass&quot;</span><span class="p">))</span></pre></div>
      </td>
    </tr>
    <tr id='section-30'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-30">&#182;</a>
        </div>
        <p>Load up a few modes that I use daily.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">dolist</span> <span class="p">(</span><span class="nf">lib</span> <span class="o">&#39;</span><span class="p">(</span><span class="nv">vimpulse</span> <span class="nv">rainbow-mode</span> <span class="nv">lambda-mode</span> <span class="nv">lorem-ipsum</span> <span class="nv">midnight</span> <span class="nv">pastebin</span> <span class="nv">xmlgen</span> <span class="nv">chicken-scheme-extras</span> <span class="nv">scheme-complete</span> <span class="nv">eval-sexp-fu</span>
               <span class="nv">smart-compile</span> <span class="nv">uniquify</span> <span class="nv">kpm-list</span> <span class="nv">rainbow-delimiters</span> <span class="nv">smooth-scrolling</span><span class="p">))</span>
  <span class="p">(</span><span class="nf">require</span> <span class="nv">lib</span><span class="p">))</span></pre></div>
      </td>
    </tr>
    <tr id='section-31'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-31">&#182;</a>
        </div>
        <p>And set up some autoloads for the other stuff to speed up
Emacs loading time.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">autoload</span> <span class="ss">&#39;org-mode</span> <span class="s">&quot;org-install&quot;</span> <span class="s">&quot;Org Mode&quot;</span> <span class="nv">t</span><span class="p">)</span>
<span class="p">(</span><span class="nf">autoload</span> <span class="ss">&#39;scss-mode</span> <span class="s">&quot;scss-mode&quot;</span> <span class="s">&quot;SCSS Mode&quot;</span> <span class="nv">t</span><span class="p">)</span>
<span class="p">(</span><span class="nf">autoload</span> <span class="ss">&#39;markdown-mode</span> <span class="s">&quot;markdown-mode&quot;</span> <span class="s">&quot;Markdown Mode&quot;</span> <span class="nv">t</span><span class="p">)</span>
<span class="p">(</span><span class="nf">autoload</span> <span class="ss">&#39;nxhtml-mumamo</span> <span class="s">&quot;nxhtml/autostart&quot;</span> <span class="s">&quot;nXhtml Support&quot;</span> <span class="nv">t</span><span class="p">)</span>
<span class="p">(</span><span class="nf">autoload</span> <span class="ss">&#39;nxhtml-mode</span> <span class="s">&quot;nxhtml/autostart&quot;</span> <span class="s">&quot;nXhtml Support&quot;</span> <span class="nv">t</span><span class="p">)</span>

<span class="p">(</span><span class="nf">add-to-list</span> <span class="ss">&#39;auto-mode-alist</span> <span class="o">&#39;</span><span class="p">(</span><span class="s">&quot;\\.org$&quot;</span> <span class="o">.</span> <span class="nv">org-mode</span><span class="p">))</span>
<span class="p">(</span><span class="nf">add-to-list</span> <span class="ss">&#39;auto-mode-alist</span> <span class="o">&#39;</span><span class="p">(</span><span class="s">&quot;\\.scss$&quot;</span> <span class="o">.</span> <span class="nv">scss-mode</span><span class="p">))</span>
<span class="p">(</span><span class="nf">add-to-list</span> <span class="ss">&#39;auto-mode-alist</span> <span class="o">&#39;</span><span class="p">(</span><span class="s">&quot;\\.md$&quot;</span> <span class="o">.</span> <span class="nv">markdown-mode</span><span class="p">))</span>
<span class="p">(</span><span class="nf">add-to-list</span> <span class="ss">&#39;auto-mode-alist</span> <span class="o">&#39;</span><span class="p">(</span><span class="s">&quot;\\.html$&quot;</span> <span class="o">.</span> <span class="nv">nxhtml-mumamo</span><span class="p">))</span>
<span class="p">(</span><span class="nf">add-to-list</span> <span class="ss">&#39;auto-mode-alist</span> <span class="o">&#39;</span><span class="p">(</span><span class="s">&quot;\\.php$&quot;</span> <span class="o">.</span> <span class="nv">nxhtml-mumamo</span><span class="p">))</span>
<span class="p">(</span><span class="nf">add-to-list</span> <span class="ss">&#39;auto-mode-alist</span> <span class="o">&#39;</span><span class="p">(</span><span class="s">&quot;\\.emacs_new$&quot;</span> <span class="o">.</span> <span class="nv">emacs-lisp-mode</span><span class="p">))</span></pre></div>
      </td>
    </tr>
    <tr id='section-32'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-32">&#182;</a>
        </div>
        <p>More setup stuff down here.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">eval-after-load</span> <span class="s">&quot;midnight&quot;</span>
  <span class="o">&#39;</span><span class="p">(</span><span class="nv">midnight-delay-set</span> <span class="ss">&#39;midnight-delay</span> <span class="s">&quot;1:00am&quot;</span><span class="p">))</span>

<span class="p">(</span><span class="nf">eval-after-load</span> <span class="s">&quot;eval-sexp-fu&quot;</span>
  <span class="o">&#39;</span><span class="p">(</span><span class="nv">setq</span> <span class="nv">eval-sexp-fu-flash-duration</span> <span class="mf">0.5</span><span class="p">))</span></pre></div>
      </td>
    </tr>
    <tr id='section-33'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-33">&#182;</a>
        </div>
        <p>When <code>org-mode</code> is loaded, load up <code>org-agenda-sms</code> too, which
checks my agenda for urgent items on a given day, and sends
them over to my phone if need be via SMS.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">eval-after-load</span> <span class="s">&quot;org-mode&quot;</span>
  <span class="o">&#39;</span><span class="p">(</span><span class="nv">progn</span>
     <span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;org-agenda-sms</span><span class="p">)</span>
     <span class="p">(</span><span class="nb">load </span><span class="s">&quot;~/.org-agenda-sms&quot;</span><span class="p">)</span> <span class="c1">; Passwords</span>
     <span class="p">(</span><span class="nf">run-at-time</span> <span class="s">&quot;07am&quot;</span> <span class="nv">nil</span> <span class="ss">&#39;org-agenda-sms</span><span class="p">)))</span></pre></div>
      </td>
    </tr>
    <tr id='section-34'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-34">&#182;</a>
        </div>
        <p>A <code>vimpulse</code> text object that doesn&rsquo;t really work as it should.
I may fix this eventually since it looks useful..</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">vimpulse-define-text-object</span> <span class="nv">vimpulse-sexp</span> <span class="p">(</span><span class="nf">arg</span><span class="p">)</span>
  <span class="s">&quot;Select a S-expression.&quot;</span>
  <span class="nv">:keys</span> <span class="o">&#39;</span><span class="p">(</span><span class="s">&quot;ae&quot;</span> <span class="s">&quot;ie&quot;</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">vimpulse-inner-object-range</span>
   <span class="nv">arg</span>
   <span class="ss">&#39;backward-sexp</span>
   <span class="ss">&#39;forward-sexp</span><span class="p">))</span></pre></div>
      </td>
    </tr>
    <tr id='section-35'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-35">&#182;</a>
        </div>
        <p>This is a useful function for renaming a file and a buffer at
the same time. Used really often.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">defun</span> <span class="nv">rename-file-and-buffer</span> <span class="p">(</span><span class="nf">new-name</span><span class="p">)</span>
  <span class="s">&quot;Renames both current buffer and file it&#39;s visiting to NEW-NAME.&quot;</span>
  <span class="p">(</span><span class="nf">interactive</span> <span class="s">&quot;sNew name: &quot;</span><span class="p">)</span>
  <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nf">name</span> <span class="p">(</span><span class="nf">buffer-name</span><span class="p">))</span>
        <span class="p">(</span><span class="nf">filename</span> <span class="p">(</span><span class="nf">buffer-file-name</span><span class="p">)))</span>
    <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">not </span><span class="nv">filename</span><span class="p">)</span>
        <span class="p">(</span><span class="nf">message</span> <span class="s">&quot;Buffer &#39;%s&#39; is not visiting a file!&quot;</span> <span class="nv">name</span><span class="p">)</span>
      <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nf">get-buffer</span> <span class="nv">new-name</span><span class="p">)</span>
          <span class="p">(</span><span class="nf">message</span> <span class="s">&quot;A buffer named &#39;%s&#39; already exists!&quot;</span> <span class="nv">new-name</span><span class="p">)</span>
        <span class="p">(</span><span class="nf">progn</span>
          <span class="p">(</span><span class="nf">rename-file</span> <span class="nv">name</span> <span class="nv">new-name</span> <span class="mi">1</span><span class="p">)</span>
          <span class="p">(</span><span class="nf">rename-buffer</span> <span class="nv">new-name</span><span class="p">)</span>
          <span class="p">(</span><span class="nf">set-visited-file-name</span> <span class="nv">new-name</span><span class="p">)</span>
          <span class="p">(</span><span class="nf">set-buffer-modified-p</span> <span class="nv">nil</span><span class="p">))))))</span></pre></div>
      </td>
    </tr>
    <tr id='section-36'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-36">&#182;</a>
        </div>
        <p>Apply minor modes I like to see in every buffer. Recently added
<code>rainbow-mode</code> being excluded from <code>kpm-list-mode</code> due to it
making colors disappear :(</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">defun</span> <span class="nv">my-after-change-major-mode-hook</span> <span class="p">()</span>
  <span class="s">&quot;Apply my minor modes and custom font locks&quot;</span>
  <span class="c1">; rainbow-mode messes with the colouring of kpm-list-mode</span>
  <span class="p">(</span><span class="nf">unless</span> <span class="p">(</span><span class="nf">equal</span> <span class="nv">major-mode</span> <span class="ss">&#39;kpm-list-mode</span><span class="p">)</span>
    <span class="p">(</span><span class="nf">rainbow-mode</span> <span class="mi">1</span><span class="p">))</span>
  <span class="p">(</span><span class="nf">lambda-mode</span> <span class="mi">1</span><span class="p">))</span>

<span class="p">(</span><span class="nf">add-hook</span> <span class="ss">&#39;after-change-major-mode-hook</span> <span class="ss">&#39;my-after-change-major-mode-hook</span><span class="p">)</span></pre></div>
      </td>
    </tr>
    <tr id='section-37'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-37">&#182;</a>
        </div>
        <p>Set up modes for <code>emacs-lisp</code> editing (yes, variable-pitch..)</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">defun</span> <span class="nv">my-emacs-lisp-mode-hook</span> <span class="p">()</span>
  <span class="s">&quot;Apply my Emacs Lisp Mode stuff&quot;</span>
  <span class="p">(</span><span class="nf">variable-pitch-mode</span> <span class="mi">1</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">rainbow-delimiters-mode</span> <span class="mi">1</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">eldoc-mode</span> <span class="mi">1</span><span class="p">))</span>

<span class="p">(</span><span class="nf">add-hook</span> <span class="ss">&#39;emacs-lisp-mode-hook</span> <span class="ss">&#39;my-emacs-lisp-mode-hook</span><span class="p">)</span>
<span class="p">(</span><span class="nf">add-hook</span> <span class="ss">&#39;ielm-mode-hook</span> <span class="ss">&#39;my-emacs-lisp-mode-hook</span><span class="p">)</span></pre></div>
      </td>
    </tr>
    <tr id='section-38'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-38">&#182;</a>
        </div>
        <p>Not sure if I use this much anymore..</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">defun</span> <span class="nv">my-variable-pitch-mode</span> <span class="p">()</span>
  <span class="s">&quot;Apply variable pitch stuff&quot;</span>
  <span class="c1">;(text-scale-increase 2)</span>
  <span class="p">(</span><span class="nf">variable-pitch-mode</span> <span class="nv">t</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">visual-line-mode</span> <span class="nv">t</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">setq</span> <span class="nv">truncate-lines</span> <span class="nv">nil</span><span class="p">))</span>

<span class="p">(</span><span class="nf">add-hook</span> <span class="ss">&#39;mail-mode-hook</span> <span class="ss">&#39;my-variable-pitch-mode</span><span class="p">)</span>
<span class="p">(</span><span class="nf">add-hook</span> <span class="ss">&#39;text-mode-hook</span> <span class="ss">&#39;my-variable-pitch-mode</span><span class="p">)</span>
<span class="p">(</span><span class="nf">add-hook</span> <span class="ss">&#39;Info-mode-hook</span> <span class="ss">&#39;my-variable-pitch-mode</span><span class="p">)</span></pre></div>
      </td>
    </tr>
    <tr id='section-39'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-39">&#182;</a>
        </div>
        <p>Fix up indentation for PHP code. Not entirely happy with it but
there isn&rsquo;t anything better available at the moment.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">eval-after-load</span> <span class="s">&quot;php-mode&quot;</span>
  <span class="o">&#39;</span><span class="p">(</span><span class="nv">progn</span>
     <span class="p">(</span><span class="nf">defun</span> <span class="nv">my-php-mode-hook</span> <span class="p">()</span>
       <span class="p">(</span><span class="nf">c-set-offset</span> <span class="ss">&#39;case-label</span> <span class="ss">&#39;+</span><span class="p">)</span>
       <span class="p">(</span><span class="nf">c-set-offset</span> <span class="ss">&#39;arglist-intro</span> <span class="ss">&#39;+</span><span class="p">)</span> <span class="c1">; for FAPI arrays and DBTNG</span>
       <span class="p">(</span><span class="nf">c-set-offset</span> <span class="ss">&#39;arglist-cont-nonempty</span> <span class="ss">&#39;c-lineup-math</span><span class="p">)</span> <span class="c1">; for DBTNG fields and values</span>
       <span class="p">(</span><span class="nf">c-set-offset</span> <span class="ss">&#39;arglist-close</span> <span class="ss">&#39;c-lineup-close-paren</span><span class="p">))</span>

     <span class="p">(</span><span class="nf">add-hook</span> <span class="ss">&#39;php-mode-hook</span> <span class="ss">&#39;my-php-mode-hook</span><span class="p">)))</span></pre></div>
      </td>
    </tr>
    <tr id='section-40'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-40">&#182;</a>
        </div>
        <p>Documentation function for Chicken Scheme.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">defun</span> <span class="nv">chicken-doc</span> <span class="p">(</span><span class="nf">&amp;optional</span> <span class="nv">obtain-function</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">interactive</span><span class="p">)</span>
  <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nf">func</span> <span class="p">(</span><span class="nf">funcall</span> <span class="p">(</span><span class="k">or </span><span class="nv">obtain-function</span> <span class="ss">&#39;current-word</span><span class="p">))))</span>
    <span class="p">(</span><span class="nf">when</span> <span class="nv">func</span>
      <span class="p">(</span><span class="nf">process-send-string</span> <span class="p">(</span><span class="nf">scheme-proc</span><span class="p">)</span>
                           <span class="p">(</span><span class="nf">format</span> <span class="s">&quot;(use chicken-doc) ,doc %S\n&quot;</span> <span class="nv">func</span><span class="p">))</span>
      <span class="p">(</span><span class="nf">save-selected-window</span>
        <span class="p">(</span><span class="nf">select-window</span> <span class="p">(</span><span class="nf">display-buffer</span> <span class="p">(</span><span class="nf">get-buffer</span> <span class="nv">scheme-buffer</span><span class="p">)</span> <span class="nv">t</span><span class="p">))</span>
        <span class="p">(</span><span class="nf">goto-char</span> <span class="p">(</span><span class="nf">point-max</span><span class="p">))))))</span></pre></div>
      </td>
    </tr>
    <tr id='section-41'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-41">&#182;</a>
        </div>
        <p>Set up modes for Scheme editing.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">defun</span> <span class="nv">my-scheme-mode-hook</span> <span class="p">()</span>
  <span class="s">&quot;Apply scheme mode stuff&quot;</span>
  <span class="p">(</span><span class="nf">variable-pitch-mode</span> <span class="mi">1</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">rainbow-delimiters-mode</span> <span class="mi">1</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">make-local-variable</span> <span class="ss">&#39;eldoc-documentation-function</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">setq</span> <span class="nv">eldoc-documentation-function</span> <span class="ss">&#39;scheme-get-current-symbol-info</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">eldoc-mode</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">setq</span> <span class="nv">lisp-indent-function</span> <span class="ss">&#39;scheme-smart-indent-function</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">define-key</span> <span class="nv">scheme-mode-map</span> <span class="p">(</span><span class="nf">kbd</span> <span class="s">&quot;M-/&quot;</span><span class="p">)</span> <span class="ss">&#39;scheme-smart-complete</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">define-key</span> <span class="nv">scheme-mode-map</span> <span class="err">[</span><span class="nv">f1</span><span class="err">]</span> <span class="ss">&#39;chicken-doc</span><span class="p">))</span>
<span class="c1">;    &#39;(lambda ()</span>
<span class="c1">;       (interactive)</span>
<span class="c1">;       (ignore-errors</span>
<span class="c1">;         (let ((symbol (thing-at-point &#39;symbol)))</span>
<span class="c1">;           (info &quot;(r5rs)&quot;)</span>
<span class="c1">;           (Info-index symbol))))))</span>

<span class="p">(</span><span class="nf">add-hook</span> <span class="ss">&#39;scheme-mode-hook</span> <span class="ss">&#39;my-scheme-mode-hook</span><span class="p">)</span></pre></div>
      </td>
    </tr>
    <tr id='section-42'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-42">&#182;</a>
        </div>
        <p>Modified colors for rainbow-delimiters-mode,
from https://gist.github.com/898948</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nf">depth</span> <span class="mi">0</span><span class="p">))</span>
  <span class="p">(</span><span class="nf">dolist</span> <span class="p">(</span><span class="nf">color</span></pre></div>
      </td>
    </tr>
    <tr id='section-43'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-43">&#182;</a>
        </div>
        <p>These are nicked from VIMClojure:
vimclojure/vim/syntax/clojure.vim</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>           <span class="o">&#39;</span><span class="p">(</span><span class="s">&quot;#ffaa55&quot;</span>
             <span class="s">&quot;#eedd44&quot;</span>
             <span class="s">&quot;#66cc44&quot;</span>
             <span class="s">&quot;green2&quot;</span>
             <span class="s">&quot;#44aa99&quot;</span>
             <span class="s">&quot;#0088cc&quot;</span>
             <span class="s">&quot;slate blue&quot;</span>
             <span class="s">&quot;magenta3&quot;</span>
             <span class="s">&quot;purple3&quot;</span><span class="p">))</span>
    <span class="p">(</span><span class="nf">set-face-foreground</span> <span class="p">(</span><span class="nf">intern</span> <span class="p">(</span><span class="nf">format</span> <span class="s">&quot;rainbow-delimiters-all-delimiters-depth-%d-face&quot;</span>
                                         <span class="p">(</span><span class="nf">incf</span> <span class="nv">depth</span><span class="p">)))</span>
                         <span class="nv">color</span><span class="p">)))</span></pre></div>
      </td>
    </tr>
    <tr id='section-44'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-44">&#182;</a>
        </div>
        <p>Set up keybindings and stuff for HTML editing.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">eval-after-load</span> <span class="s">&quot;nxhtml-mode&quot;</span>
  <span class="o">&#39;</span><span class="p">(</span><span class="nv">progn</span>
     <span class="p">(</span><span class="nf">setq</span> <span class="nv">mumamo-chunk-coloring</span> <span class="ss">&#39;submode-colored</span><span class="p">)</span>
     <span class="c1">;(setq mumamo-background-colors nil)</span>
     <span class="p">(</span><span class="nf">setq</span> <span class="nv">nxhtml-skip-welcome</span> <span class="nv">t</span><span class="p">)</span>
     <span class="p">(</span><span class="nf">setq</span> <span class="nv">rng-nxml-auto-validate-flag</span> <span class="nv">nil</span><span class="p">)</span>

     <span class="p">(</span><span class="nf">defun</span> <span class="nv">my-nxhtml-mode-hook</span> <span class="p">()</span>
       <span class="s">&quot;Apply nxhtml mode stuff&quot;</span>
       <span class="p">(</span><span class="nf">local-set-key</span> <span class="p">(</span><span class="nf">kbd</span> <span class="s">&quot;C-c C-c&quot;</span><span class="p">)</span> <span class="ss">&#39;insert-xml</span><span class="p">)</span>
       <span class="p">(</span><span class="nf">local-set-key</span> <span class="p">(</span><span class="nf">kbd</span> <span class="s">&quot;C-c r&quot;</span><span class="p">)</span> <span class="ss">&#39;surround-region</span><span class="p">))</span>

     <span class="p">(</span><span class="nf">add-hook</span> <span class="ss">&#39;nxhtml-mode-hook</span> <span class="ss">&#39;my-nxhtml-mode-hook</span><span class="p">)))</span></pre></div>
      </td>
    </tr>
    <tr id='section-45'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-45">&#182;</a>
        </div>
        <p>Some more Sawfish stuff that is unused..</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">eval-after-load</span> <span class="s">&quot;sawfish&quot;</span>
  <span class="o">&#39;</span><span class="p">(</span><span class="nv">progn</span>
     <span class="p">(</span><span class="nf">defun</span> <span class="nv">my-sawfish-mode-hook</span> <span class="p">()</span>
       <span class="s">&quot;Apply Sawfish mode stuff&quot;</span>
       <span class="p">(</span><span class="nf">define-key</span> <span class="nv">sawfish-mode-map</span> <span class="err">[</span><span class="nv">f1</span><span class="err">]</span>
         <span class="o">&#39;</span><span class="p">(</span><span class="k">lambda </span><span class="p">()</span>
            <span class="p">(</span><span class="nf">interactive</span><span class="p">)</span>
            <span class="p">(</span><span class="nf">browse-url</span> <span class="s">&quot;http://sawmill.sourceforge.net/prog-manual.html&quot;</span><span class="p">)))</span>
       <span class="p">(</span><span class="nf">define-key</span> <span class="nv">sawfish-mode-map</span> <span class="p">(</span><span class="nf">kbd</span> <span class="s">&quot;M-/&quot;</span><span class="p">)</span> <span class="ss">&#39;sawfish-complete-symbol</span><span class="p">))</span>

     <span class="p">(</span><span class="nf">add-hook</span> <span class="ss">&#39;sawfish-mode-hook</span> <span class="ss">&#39;my-sawfish-mode-hook</span><span class="p">)))</span></pre></div>
      </td>
    </tr>
    <tr id='section-46'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-46">&#182;</a>
        </div>
        <p>Resize compilation window on finish.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">defun</span> <span class="nv">my-compilation-hook</span> <span class="p">(</span><span class="nf">buffer</span> <span class="nv">string</span><span class="p">)</span>
  <span class="s">&quot;Compilation Hook&quot;</span>
  <span class="p">(</span><span class="nf">fit-window-to-buffer</span> <span class="p">(</span><span class="nf">get-buffer-window</span> <span class="nv">buffer</span> <span class="nv">t</span><span class="p">)))</span>

<span class="p">(</span><span class="nf">add-hook</span> <span class="ss">&#39;compilation-finish-functions</span> <span class="ss">&#39;my-compilation-hook</span><span class="p">)</span></pre></div>
      </td>
    </tr>
    <tr id='section-47'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-47">&#182;</a>
        </div>
        <p>This stuff came from a <code>comptroll.el</code>, puts a trollface into
the compilation buffer when you have errors in your code ;)</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">defun</span> <span class="nv">compilation-troll</span> <span class="p">(</span><span class="nf">buffer</span> <span class="nv">msg</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">unless</span> <span class="p">(</span><span class="nf">string-match</span> <span class="s">&quot;^finished&quot;</span> <span class="nv">msg</span><span class="p">)</span>
    <span class="p">(</span><span class="nf">insert-image</span> <span class="p">(</span><span class="nf">create-image</span> <span class="s">&quot;~/.emacs.d/troll.png&quot;</span><span class="p">))</span>
    <span class="p">(</span><span class="nf">insert</span> <span class="s">&quot;\n&quot;</span><span class="p">)))</span>

<span class="p">(</span><span class="nf">add-to-list</span> <span class="ss">&#39;compilation-finish-functions</span> <span class="ss">&#39;compilation-troll</span><span class="p">)</span></pre></div>
      </td>
    </tr>
    <tr id='section-48'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-48">&#182;</a>
        </div>
        <p>Make file executable automatically if #! is found</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">add-hook</span> <span class="ss">&#39;after-save-hook</span> <span class="ss">&#39;executable-make-buffer-file-executable-if-script-p</span><span class="p">)</span>

<span class="c1">;(setq inferior-lisp-program &quot;sbcl --noinform --no-linedit&quot;)</span>
<span class="c1">;(require &#39;slime)</span>
<span class="c1">;(slime-setup &#39;(slime-fancy))</span></pre></div>
      </td>
    </tr>
    <tr id='section-49'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-49">&#182;</a>
        </div>
        <p>Custom stuff.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">setq</span> <span class="nv">custom-file</span> <span class="s">&quot;~/.emacs-custom-new.el&quot;</span><span class="p">)</span>
<span class="p">(</span><span class="nb">load </span><span class="nv">custom-file</span><span class="p">)</span></pre></div>
      </td>
    </tr>
    <tr id='section-50'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-50">&#182;</a>
        </div>
        <p>Start Emacs Server.</p>

      </td>
      <td class=code>
        <div class='highlight'><pre><span class="p">(</span><span class="nf">server-start</span><span class="p">)</span></pre></div>
      </td>
    </tr>
  </table>
</div>
</body>
